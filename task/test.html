
<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="js/jquery-3.2.1.min.js"></script>
    <style type="text/css">
        .wtips{
            position:absolute;
            left:0;
            top:0;
            background-color:rgba(0,0,0,0.65);
            width:100%;
            height:100%;
            z-index:100;
        }
        .wtips img{
            width:90%;
            height:50%;
            margin:1% 5%;
        }
    </style>

</head>
<script type="text/javascript">
    var isAndroid;
    var isIOS;

    function load() {
        var ua = window.navigator.userAgent.toLowerCase();
        var u = navigator.userAgent;
        isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g
        isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
        var micromessenger = ua.match(/MicroMessenger/i);
        var weixin = micromessenger == 'micromessenger' ? true : false;

        // 判断是否是微信内置浏览器，是就显示在浏览器中打开
        if (weixin) {
            alert("是微信内置浏览器");
            if (isAndroid) {
                //这个是安卓操作系统
                document.getElementById("tips_weix").src = "./img/android.png"
            }
            if (isIOS) {
                //这个是ios操作系统
                document.getElementById("tips_weix").src = "./img/ios.png"
            }
            document.getElementById("tipsdiv").style.display = "";
        }
    }

    //判断手机上是否安装了app，如果安装直接打开，如果没安装，跳转到下载页面
    function openApp() {
        //这个是安卓操作系统
        if (isAndroid) {
            //安卓app的scheme协议
            window.location.href = 'scheme1://host1:8080/path1?query1=1&query2=true';
            setTimeout(function(){
                var hidden = window.document.hidden || window.document.mozHidden || window.document.msHidden ||window.document.webkitHidden;
                if(typeof hidden =="undefined" || hidden ==false){
                    //应用宝下载地址
                    window.location.href ="https://fir.im/mwcp";
                }
            }, 2500);
        }
        //这个是ios操作系统
        if (isIOS) {
            //ios的scheme协议
            window.location.href = 'scheme1://host1:8080/path1?query1=1&query2=true';
            setTimeout(function(){
                var hidden = window.document.hidden || window.document.mozHidden || window.document.msHidden ||window.document.webkitHidden;
                if(typeof hidden =="undefined" || hidden ==false){
                    //App store下载地址
                    window.location.href =
                        "https://itunes.apple.com/us/app/zhe-jiang-yi-dong-shou-ji/id898243566#weixin.qq.com";
                }
            }, 2500);
            return false;
        }
    }
</script>

<body onload="load()"  style="height: 100%" id="body">
<div id='down' onclick="openApp()" ><img height="120px" width="120px" src="./img/cat.png"></div>

<!--如果是微信内置浏览器会显示以下图标-->
<div id="tipsdiv" class="wtips" style="display: none">
    <img src="./img/android.png">
</div>
</body>
</html>

